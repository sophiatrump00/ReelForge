# ReelForge - 项目需求规划文档 v3.1

> 🔥 **ReelForge** - TikTok素材 → Meta广告素材 自动化工具

---

## 1. 项目概述

### 1.1 项目目标

构建一个**完整版**自动化工具，用于：
- 批量下载TikTok视频素材
- AI智能分析与自动剪辑切片
- 转换为Meta广告各版位格式
- 素材管理、关键词检测、文案生成

### 1.2 设计原则

| 原则 | 说明 |
|------|------|
| **不重复造轮子** | 借鉴AutoClip的自动剪辑Pipeline |
| **完整版** | 非MVP，非阉割版，全功能上线 |
| **程序员风格** | 理工风界面，支持高级参数配置 |
| **Worker模式** | Prefect 3.x，避免阻塞和堆积 |
| **Docker优先** | 先Docker版，后非Docker版 |

### 1.3 运行环境

| 项目 | 规格 |
|------|------|
| 操作系统 | Linux (本地 / VPS) |
| 界面 | **Electron + Web 双模式** |
| 日处理量 | 100+ 视频/天 |
| AI模型 | 云端API，不使用本地模型 |

---

## 2. 技术栈

### 2.1 核心技术选型

| 层级 | 技术 | 版本/说明 |
|------|------|----------|
| **GUI框架** | Electron | 桌面应用入口 |
| **前端** | React + TypeScript + Ant Design | 共用于Electron和Web |
| **后端** | Python + FastAPI | AI生态完善 |
| **桥接层** | Node.js | Electron主进程 |
| **任务调度** | **Prefect 3.x** (自托管) | Worker模式 |
| **数据库** | **PostgreSQL** | 混合方案 |
| **缓存/队列** | Redis | Prefect消息队列 |
| **视频处理** | FFmpeg | 工业标准 |
| **下载引擎** | yt-dlp | 全参数支持 |

### 2.2 PostgreSQL部署方案（混合）

```yaml
# 默认：Docker内置PostgreSQL
postgres:
  image: postgres:16
  volumes:
    - ./data/postgres:/var/lib/postgresql/data  # 数据持久化到宿主机
  environment:
    POSTGRES_DB: reelforge
    POSTGRES_USER: reelforge
    POSTGRES_PASSWORD: ${DB_PASSWORD}

# 可选：外部数据库连接（通过环境变量切换）
# DATABASE_URL=postgresql://user:pass@external-host:5432/reelforge
```

**特点**：
- 默认Docker内置，一键启动
- 数据目录映射到宿主机，防止丢失
- 支持切换到外部PostgreSQL（生产环境推荐）

### 2.3 前端双模式架构

```
┌─────────────────────────────────────────────────────────────┐
│                    React 前端代码 (共用)                    │
└─────────────────────────┬───────────────────────────────────┘
                          │
          ┌───────────────┴───────────────┐
          ▼                               ▼
┌─────────────────────┐       ┌─────────────────────────────┐
│  Electron 桌面应用  │       │    Web 浏览器访问           │
│  (本地电脑使用)     │       │    http://ip:8080           │
│                     │       │    (VPS远程使用)            │
└─────────────────────┘       └─────────────────────────────┘
```

---

## 3. 核心功能模块

### 3.1 素材下载模块

#### 3.1.1 yt-dlp全参数支持

```
┌─────────────────────────────────────────────────────────────────────┐
│  📥 TikTok视频下载                                                  │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  下载模式: ○ 单视频  ● 播主批量  ○ 链接列表                         │
│                                                                     │
│  URL输入:                                                           │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │ https://www.tiktok.com/@username                            │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                                                                     │
│  Cookies文件: [选择cookies.txt]  ☑️ 使用登录态下载                  │
│                                                                     │
│  ┌─── 高级参数 (yt-dlp命令行) ──────────────────────────────────┐  │
│  │                                                               │  │
│  │  --format bestvideo+bestaudio                                 │  │
│  │  --no-playlist                                                │  │
│  │  --geo-bypass                                                 │  │
│  │  --max-downloads 50                                           │  │
│  │  --download-archive downloaded.txt                            │  │
│  │                                                               │  │
│  │  [加载预设 ▼]  [保存为预设]                                   │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                     │
│  输出目录: [选择] /data/raw/                                        │
│                                                                     │
│  ☑️ 去水印下载    ☑️ 下载元数据    ☐ 下载字幕                       │
│                                                                     │
│  [开始下载]  [添加到队列]                                           │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

**功能要点**：
- 支持完整yt-dlp命令行参数
- cookies.txt登录态下载
- 参数预设保存/加载
- 批量下载播主全部视频
- 增量下载（download-archive）

#### 3.1.2 下载队列管理

```
┌─────────────────────────────────────────────────────────────────────┐
│  📋 下载队列                                        [暂停全部] [清空]│
├─────────────────────────────────────────────────────────────────────┤
│  #1  @creator_a  ████████████░░░░  12/20  进行中                    │
│  #2  @creator_b  ░░░░░░░░░░░░░░░░  0/35   等待中                    │
│  #3  单视频xxx   ████████████████  完成    ✅                       │
└─────────────────────────────────────────────────────────────────────┘
```

---

### 3.2 AI智能分析模块（双模型）

#### 3.2.1 多厂商API配置

```
┌─────────────────────────────────────────────────────────────────────┐
│  🤖 AI模型配置                                                      │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─── VL视觉分析模型 ───────────────────────────────────────────┐  │
│  │                                                               │  │
│  │  厂商: [硅基流动 ▼]  [阿里云] [OpenAI] [智谱] [自定义]        │  │
│  │                                                               │  │
│  │  API Base: https://api.siliconflow.cn/v1                      │  │
│  │  API Key:  sk-********************************                │  │
│  │  模型:     [Qwen/Qwen2.5-VL-72B-Instruct ▼]                   │  │
│  │                                                               │  │
│  │  用途: ☑️素材分析 ☑️高光帧 ☑️关键词检测 ☑️内容审核           │  │
│  │                                                               │  │
│  │  [测试连接]                                                   │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                     │
│  ┌─── LLM文案生成模型 ──────────────────────────────────────────┐  │
│  │                                                               │  │
│  │  厂商: [Deepseek ▼]  [阿里云] [OpenAI] [自定义]               │  │
│  │                                                               │  │
│  │  API Base: https://api.deepseek.com/v1                        │  │
│  │  API Key:  sk-********************************                │  │
│  │  模型:     [deepseek-chat ▼]                                  │  │
│  │                                                               │  │
│  │  用途: ☑️文案生成 ☑️标签建议 ☑️内容描述                       │  │
│  │                                                               │  │
│  │  [测试连接]                                                   │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                     │
│  [+ 添加备用模型]                                                   │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

#### 3.2.2 AI分析内容

| 分析项 | 使用模型 | 说明 |
|--------|----------|------|
| 素材质量评分 | VL | 1-10分，画质、稳定性、吸引力 |
| 高光帧检测 | VL | 识别最佳帧位置和时间点 |
| 关键词检测 | VL | 正向/反向关键词匹配 |
| 内容安全审核 | VL | 敏感内容、竞品Logo检测 |
| OCR文字提取 | VL | 提取视频中文字 |
| 内容描述 | VL+LLM | 生成素材描述 |
| 广告文案 | LLM | 生成标题、描述、CTA |
| 标签建议 | LLM | 自动生成分类标签 |

---

### 3.3 自动剪辑切片模块（借鉴AutoClip）

#### 3.3.1 Pipeline流程

```
┌──────────────────────────────────────────────────────────────────┐
│                    自动剪辑 Pipeline                             │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐       │
│  │ Step 1  │ →  │ Step 2  │ →  │ Step 3  │ →  │ Step 4  │       │
│  │ 大纲提取│    │时间线   │    │精彩评分 │    │高光帧   │       │
│  │         │    │分析     │    │         │    │提取     │       │
│  └─────────┘    └─────────┘    └─────────┘    └─────────┘       │
│       ↓              ↓              ↓              ↓             │
│  AI提取视频    识别话题      对每个片段     自动选取           │
│  内容结构      时间区间      1-10评分       最佳帧             │
│                                                                  │
│                              ↓                                   │
│                        ┌─────────┐                               │
│                        │ Step 5  │                               │
│                        │视频切片 │                               │
│                        │生成     │                               │
│                        └─────────┘                               │
│                              ↓                                   │
│                    输出精彩片段视频                              │
│                                                                  │
└──────────────────────────────────────────────────────────────────┘
```

#### 3.3.2 切片配置

```
┌─────────────────────────────────────────────────────────────────────┐
│  ✂️ 自动剪辑配置                                                    │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  最小片段时长: [5] 秒     最大片段时长: [60] 秒                     │
│  精彩度阈值:   [7] 分     (低于此分数不切片)                        │
│  最大切片数:   [10] 个/视频                                         │
│                                                                     │
│  ☑️ 自动提取高光帧   高光帧数量: [3] 张/片段                        │
│  ☑️ 生成片段描述                                                    │
│  ☑️ 自动重命名切片                                                  │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

### 3.4 Meta版位转换模块（核心）

#### 3.4.1 版位规格

| 版位 | 宽高比 | 分辨率 | 格式 | 最大时长 | 文件限制 |
|------|--------|--------|------|----------|----------|
| Feed (方形) | 1:1 | 1080×1080 | MP4/MOV | 241分钟 | 4GB |
| Feed (竖版) | 4:5 | 1080×1350 | MP4/MOV | 241分钟 | 4GB |
| Stories/Reels | 9:16 | 1080×1920 | MP4/MOV | 90秒推荐 | 4GB |
| In-Stream | 16:9 | 1920×1080 | MP4/MOV | 15秒推荐 | 4GB |
| Carousel图片 | 1:1 | 1080×1080 | JPG/PNG | - | 30MB |

#### 3.4.2 转换策略配置

```
┌─────────────────────────────────────────────────────────────────────┐
│  🔄 版位转换配置                                                    │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  输出版位选择:                                                      │
│  ☑️ Feed 1:1      ☑️ Feed 4:5      ☑️ Stories 9:16                  │
│  ☑️ In-Stream 16:9   ☑️ 高光静态图                                  │
│                                                                     │
│  ┌─── 9:16 → 其他比例 转换策略 ─────────────────────────────────┐  │
│  │                                                               │  │
│  │  9:16 → 1:1 (方形):                                           │  │
│  │    ○ 中心裁剪                                                 │  │
│  │    ● AI智能裁剪 (检测主体位置)                                │  │
│  │    ○ 手动指定裁剪区域                                         │  │
│  │                                                               │  │
│  │  9:16 → 4:5:                                                  │  │
│  │    ● 顶部对齐裁剪                                             │  │
│  │    ○ 中心裁剪                                                 │  │
│  │    ○ AI智能裁剪                                               │  │
│  │                                                               │  │
│  │  9:16 → 16:9 (横版):                                          │  │
│  │    ● 模糊背景填充                                             │  │
│  │    ○ 画中画效果                                               │  │
│  │    ○ 纯色背景填充                                             │  │
│  │                                                               │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

#### 3.4.3 高光静态图输出

```
视频 → AI选取高光帧 → 输出多尺寸:
  • 1080×1080 (Feed方形)
  • 1080×1350 (Feed竖版)
  • 1080×1920 (Stories)
  • 1200×628 (链接预览)
```

---

### 3.5 关键词管理模块

```
┌─────────────────────────────────────────────────────────────────────┐
│  🏷️ 关键词管理                                                     │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─── ✅ 正向关键词 (我方产品/品牌) ────────────────────────────┐  │
│  │                                                               │  │
│  │  [品牌名] [产品A] [产品B] [口号] [+添加]                      │  │
│  │                                                               │  │
│  │  批量操作: [从TXT导入] [从剪贴板粘贴] [导出]                  │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                     │
│  ┌─── ❌ 反向关键词 (竞品/敏感/排除) ───────────────────────────┐  │
│  │                                                               │  │
│  │  [竞品A] [竞品B] [敏感词1] [敏感词2] [+添加]                  │  │
│  │                                                               │  │
│  │  批量操作: [从TXT导入] [从剪贴板粘贴] [导出]                  │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                     │
│  ┌─── 📁 分类标签 (素材整理用) ─────────────────────────────────┐  │
│  │                                                               │  │
│  │  产品类型: [电子] [服装] [美妆] [食品] [家居] [+]             │  │
│  │  内容类型: [开箱] [测评] [教程] [种草] [日常] [+]             │  │
│  │  情绪标签: [搞笑] [感人] [震撼] [治愈] [励志] [+]             │  │
│  │                                                               │  │
│  └───────────────────────────────────────────────────────────────┘  │
│                                                                     │
│  [保存配置]  [导入配置JSON]  [导出配置JSON]                         │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

**检测逻辑**：
- AI分析视频内容+OCR文字
- 匹配正向关键词 → 标记为可用
- 匹配反向关键词 → 标记为需审核/不可用
- 返回匹配词+出现时间点

---

### 3.6 素材智能整理模块

#### 3.6.1 文件夹结构

```
data/
├── raw/                          # 原始素材
│   ├── {播主名}/
│   │   └── {日期-YYYYMMDD}/
│   │       └── 原始视频.mp4
│   └── imports/                  # 本地导入
│
├── processed/                    # 处理中
│
├── output/                       # Meta输出素材
│   ├── {日期-YYYYMMDD}/
│   │   ├── feed_1x1/
│   │   ├── feed_4x5/
│   │   ├── stories_9x16/
│   │   ├── instream_16x9/
│   │   └── highlight_images/
│   └── clips/                    # 自动剪辑切片
│
└── archive/                      # 归档
```

#### 3.6.2 智能重命名规则

```
模板变量:
  {source}    - 来源 (tiktok/local)
  {creator}   - 播主名
  {date}      - 日期 YYYYMMDD
  {time}      - 时间 HHMMSS
  {seq}       - 序号 001, 002...
  {placement} - 版位 feed1x1/stories/...
  {tag}       - AI分类标签
  {score}     - 质量评分

示例模板: {source}_{date}_{seq}_{placement}_{tag}
输出: tiktok_20260125_001_feed1x1_开箱.mp4
```

---

### 3.7 字幕与音频处理

```
┌─────────────────────────────────────────────────────────────────────┐
│  🎵 字幕/音频处理                                                   │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  字幕处理:                                                          │
│    ☑️ 移除原有字幕 (AI检测硬字幕区域)                               │
│    ☐ 保留原字幕                                                     │
│    ☐ 替换字幕 [导入SRT文件]                                         │
│    ☐ AI语音识别生成字幕                                             │
│                                                                     │
│  音频处理:                                                          │
│    ☑️ 移除背景音乐 (保留人声)                                       │
│    ☐ 保留原音频                                                     │
│    ☐ 静音处理                                                       │
│    ☐ 替换背景音乐 [选择音频文件]                                    │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

### 3.8 导出报告

```
┌─────────────────────────────────────────────────────────────────────┐
│  📊 导出处理报告                                                    │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  时间范围: [2026-01-01] 至 [2026-01-25]                             │
│                                                                     │
│  报告内容:                                                          │
│    ☑️ 处理统计摘要 (下载/处理/输出数量)                             │
│    ☑️ 素材清单明细 (文件名/来源/状态/评分)                          │
│    ☑️ AI分析结果 (关键词匹配/质量评分)                              │
│    ☑️ 版位输出统计                                                  │
│    ☐ 错误日志                                                       │
│                                                                     │
│  导出格式: ● Excel (.xlsx)  ○ PDF  ○ CSV                            │
│                                                                     │
│  [生成报告]                                                         │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 4. 额外功能模块

| 功能 | 说明 | 界面位置 |
|------|------|----------|
| **素材日历视图** | 按日期展示素材，规划投放节奏 | 素材库页面 |
| **竞品监控** | 追踪竞品TikTok账号更新 | 独立页面 |
| **素材热度预测** | 基于TikTok数据(播放/点赞)预测广告效果 | 素材详情 |
| **模板市场** | 保存/加载处理配置、yt-dlp参数预设 | 设置页面 |
| **历史回溯** | 每个素材完整处理历史记录 | 素材详情 |
| **批量水印** | 给输出素材添加自定义水印/Logo | 批量处理 |
| **A/B素材生成** | 同一视频自动生成多个变体(不同裁剪/滤镜) | 批量处理 |

---

## 5. 系统监控

### 5.1 存储空间实时监控

```
┌─────────────────────────────────────────────────────────────────────┐
│  💾 存储空间                                                        │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  总空间: 500 GB    已用: 234.5 GB (47%)    可用: 265.5 GB           │
│  ████████████████████░░░░░░░░░░░░░░░░░░░░                           │
│                                                                     │
│  ├─ raw/         89.2 GB   ████████░░                               │
│  ├─ output/      120.3 GB  ████████████░                            │
│  ├─ temp/        15.0 GB   ██░░░░░░░░░░                              │
│  └─ archive/     10.0 GB   █░░░░░░░░░░░░                             │
│                                                                     │
│  ⚠️ 警告阈值: [90%]   当前状态: ✅ 正常                             │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 5.2 任务队列监控

```
┌─────────────────────────────────────────────────────────────────────┐
│  📋 Prefect任务队列                                                 │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  Worker状态: 🟢 运行中 (3/3)    内存: 2.1GB / 8GB                   │
│                                                                     │
│  队列统计:                                                          │
│    等待中: 12    运行中: 3    已完成: 156    失败: 2                │
│                                                                     │
│  最近任务:                                                          │
│    #158  视频处理  @creator_a_001.mp4      运行中  45%              │
│    #157  AI分析    @creator_a_001.mp4      完成    ✅               │
│    #156  下载      https://tiktok.com/...  失败    ❌ [重试]        │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 6. 风险与应对

| 风险 | 应对措施 | 实现方式 |
|------|----------|----------|
| **TikTok反爬** | 控制频率、代理池、cookies | 可配置下载间隔，支持代理设置 |
| **版权风险** | 原创度检测、法律提示 | 首次使用显示风险声明 |
| **AI成本** | 分级筛选策略 | 本地预筛 → AI精筛 |
| **裁剪质量** | 手动调整入口 | 支持预览和手动微调 |
| **存储空间** | 实时监控告警 | 达阈值提醒，不自动删除 |

---

## 7. Docker架构

### 7.1 服务编排

```yaml
# docker-compose.yml
version: '3.8'

services:
  # PostgreSQL数据库
  postgres:
    image: postgres:16-alpine
    volumes:
      - ./data/postgres:/var/lib/postgresql/data
    environment:
      POSTGRES_DB: reelforge
      POSTGRES_USER: reelforge
      POSTGRES_PASSWORD: ${DB_PASSWORD:-reelforge123}
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U reelforge"]

  # Redis (Prefect队列)
  redis:
    image: redis:7-alpine
    volumes:
      - ./data/redis:/data

  # Prefect Server (自托管)
  prefect-server:
    image: prefecthq/prefect:3-python3.11
    command: prefect server start --host 0.0.0.0
    ports:
      - "4200:4200"
    environment:
      PREFECT_API_DATABASE_CONNECTION_URL: postgresql+asyncpg://reelforge:${DB_PASSWORD}@postgres:5432/prefect
    depends_on:
      - postgres

  # ReelForge API后端
  reelforge-api:
    build: ./backend
    ports:
      - "8000:8000"
    volumes:
      - ./data:/app/data
    environment:
      DATABASE_URL: postgresql://reelforge:${DB_PASSWORD}@postgres:5432/reelforge
      REDIS_URL: redis://redis:6379
      PREFECT_API_URL: http://prefect-server:4200/api
    depends_on:
      - postgres
      - redis
      - prefect-server

  # Prefect Worker (可扩展多个)
  reelforge-worker:
    build: ./backend
    command: prefect worker start --pool reelforge-pool
    volumes:
      - ./data:/app/data
    environment:
      DATABASE_URL: postgresql://reelforge:${DB_PASSWORD}@postgres:5432/reelforge
      PREFECT_API_URL: http://prefect-server:4200/api
    deploy:
      replicas: 2  # 可调整Worker数量
      resources:
        limits:
          memory: 4G  # 内存限制
    depends_on:
      - prefect-server

  # 前端 (Web访问入口)
  reelforge-web:
    build: ./frontend
    ports:
      - "8080:5173"
      - "3000:5173"
    depends_on:
      - reelforge-api
```

### 7.2 启动命令

```bash
# 启动所有服务
docker compose up -d

# 查看状态
docker compose ps

# 查看日志
docker compose logs -f reelforge-api

# 扩展Worker
docker compose up -d --scale reelforge-worker=4
```

---

## 8. 项目目录结构

```
reelforge/
├── docker-compose.yml
├── docker-compose.dev.yml
├── .env.example
├── README.md
│
├── backend/                      # Python后端
│   ├── Dockerfile
│   ├── requirements.txt
│   ├── main.py                   # FastAPI入口
│   ├── api/                      # API路由
│   │   ├── download.py           # 下载API
│   │   ├── process.py            # 处理API
│   │   ├── materials.py          # 素材管理API
│   │   ├── ai.py                 # AI配置API
│   │   └── reports.py            # 报告API
│   ├── services/                 # 业务逻辑
│   │   ├── downloader.py         # yt-dlp封装
│   │   ├── video_processor.py    # FFmpeg处理
│   │   ├── ai_analyzer.py        # AI分析
│   │   └── file_manager.py       # 文件管理
│   ├── workers/                  # Prefect任务
│   │   ├── download_flow.py
│   │   ├── process_flow.py
│   │   └── analyze_flow.py
│   ├── pipeline/                 # 自动剪辑Pipeline
│   │   ├── step1_outline.py
│   │   ├── step2_timeline.py
│   │   ├── step3_scoring.py
│   │   ├── step4_highlight.py
│   │   └── step5_video.py
│   ├── models/                   # 数据库模型
│   │   ├── material.py
│   │   ├── task.py
│   │   └── config.py
│   └── utils/
│
├── frontend/                     # React前端
│   ├── Dockerfile
│   ├── package.json
│   ├── vite.config.ts
│   └── src/
│       ├── pages/
│       │   ├── Dashboard.tsx
│       │   ├── Download.tsx
│       │   ├── Materials.tsx
│       │   ├── Process.tsx
│       │   ├── Reports.tsx
│       │   └── Settings.tsx
│       ├── components/
│       │   ├── settings/           # 设置页组件 (AI/Download/Storage/Logging)
│       │   ├── process/            # 处理页组件 (Selector/ClipSettings/Queue)
│       │   ├── keywords/           # 关键词组件 (Card/Tags)
│       │   └── ...
│       └── stores/
│
├── electron/                     # Electron桌面
│   ├── main.ts
│   ├── preload.ts
│   └── package.json
│
├── data/                         # 数据目录
│   ├── raw/
│   ├── output/
│   ├── temp/
│   ├── postgres/
│   └── redis/
│
├── docs/                         # 文档
│   ├── INSTALL.md
│   ├── USER_GUIDE.md
│   └── API.md
│
└── scripts/
    ├── start.sh
    ├── stop.sh
    └── backup.sh
```

---

## 9. 开发路线图

| 阶段 | 内容 | 周期 |
|------|------|------|
| **Phase 1** | Docker环境 + PostgreSQL + Prefect 3.x + 基础FastAPI框架 | 1周 |
| **Phase 2** | yt-dlp全参数下载 + cookies支持 + 下载队列 | 1.5周 |
| **Phase 3** | FFmpeg版位转换 + 去水印 + 字幕音频处理 | 1.5周 |
| **Phase 4** | AI双模型集成 + 关键词检测 + 自动剪辑Pipeline | 2周 |
| **Phase 5** | 素材库管理 + 智能整理 + 额外功能 + 报告导出 | 2周 |
| **Phase 6** | Electron打包 + 非Docker版本 + 文档完善 + 测试 | 1.5周 |

**总计：约9-10周**

---

## 10. 文档清单

| 文档 | 内容 |
|------|------|
| README.md | 项目介绍、快速开始 |
| INSTALL.md | 详细安装指南 (Docker/非Docker) |
| USER_GUIDE.md | 用户使用手册 |
| API.md | API接口文档 |
| DEVELOPMENT.md | 开发指南 |
| CHANGELOG.md | 版本更新记录 |

---

*版本: v3.1*  
*日期: 2026-01-25*  
*状态: 需求确认*
